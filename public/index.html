<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Async Script Injection Example</title>
	<link rel="stylesheet" type="text/css" media="all" href="/css/main.css" />
	<script type="text/javascript" src="/js/main.js"></script>
</head>
<body>
	<p>
		Dynamically created and inserted scripts are <em>asynchronous</em> by default.
	</p>
	<p>
		This can be quickly tested by running the following command in your Browser's DevTools console:
	</p>
	<pre><code>document.createElement('script').async // Returns `true`</code></pre>
	<p>
		The following test dynamically inserts <strong>5</strong> scripts when a button is pressed:
	</p>
	<p>
		<em>huge.js</em>, <em>big.js</em>, <em>medium.js</em>, <em>small.js</em>, and <em>tiny.js</em>, in that order.
	</p>
	<p>
		The larger the file, the longer it takes to download.<br>
		Clicking on the <strong>first</strong> button explicitly sets <code>`async = false`</code> on the dynamically created script tags, we force the files to execute synchronously in their insertion order, making the log below report that <em>huge.js</em> ran first, finishing with <em>tiny.js</em>.<br>
		Clicking on the <strong>second</strong> button does not explicitly set this attribute, making the scripts run asynchronously, meaning execution order is no longer tied to insertion order in the DOM. Since this example is using simulated download durations, we should see that <em>tiny.js</em> runs first, followed by <em>huge.js</em>.
	</p>
	<blockquote>
		See the following for more information:
		<ul>
			<li><a href="https://www.html5rocks.com/en/tutorials/speed/script-loading/">https://www.html5rocks.com/en/tutorials/speed/script-loading/</a></li>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#Compatibility_notes">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#Compatibility_notes</a></li>
		</ul>
	</blockquote>
	<button id="sync">Inject scripts<br>synchronously</button>
	<button id="async">Inject scripts<br>asynchronously</button>
	<hr>
	<code>Log:</code>
	<textarea id="log"></textarea>
</body>
</html>